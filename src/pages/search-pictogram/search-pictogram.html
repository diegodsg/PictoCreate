<!--
  Generated template for the SearchPictogramPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header color="primary">

    <ion-segment [(ngModel)]="type" (ionChange)="onSegmentChange($event)">
      <ion-segment-button value="0">
        MÃ¡s usados
      </ion-segment-button>
      <ion-segment-button value="1">
        ARASAAC
      </ion-segment-button>
    	<ion-segment-button value="2">
    		Personales
    	</ion-segment-button>
    </ion-segment>
    <ion-toolbar color="primary">
    <ion-searchbar #searchBar
    	[(ngModel)]="searchInput"
    	[showCancelButton]="false"
    	placeholder="Buscar"
    	(ionInput)="onInput($event)"
    	(ionCancel)="onCancel($event)"
    	autocomplete="off"
    	animated=false>
    </ion-searchbar>
  </ion-toolbar>
</ion-header>

  <ion-content>
  	<ion-list>
  		<ion-row wrap>
  			<ion-col col-12 col-md-4 *ngFor="let picto of results">
  				<ion-card (click)="selectPictogram(picto)">
  		    	<img class="searchImage" [src]="picto.url">
            <hr>
  		    	<div class="card-subtitle">{{picto.name}}</div>
  		  </ion-card>
  			</ion-col>
  		</ion-row>
  	</ion-list>
  	<ion-infinite-scroll *ngIf="canLoadMore()"
  	(ionInfinite)="doInfinite($event)" distance="1%">
  		<ion-infinite-scroll-content></ion-infinite-scroll-content>
  	</ion-infinite-scroll>
  </ion-content>

  <ion-content padding>
  <img src="{{pathForImage(lastImage)}}" style="width: 100%" [hidden]="lastImage === null">
  <h3 [hidden]="lastImage !== null">Please Select Image!</h3>
</ion-content>

<ion-footer>
  <ion-toolbar color="primary">
    <ion-buttons>
      <button ion-button icon-left (click)="presentActionSheet()">
        <ion-icon name="camera"></ion-icon>Select Image
      </button>
      <button ion-button icon-left (click)="uploadImage()" [disabled]="lastImage === null">
        <ion-icon name="cloud-upload"></ion-icon>Upload
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>
